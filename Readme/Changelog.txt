==Revisions==

===Current Version===
**v1.1.1** (January 2026) - Latest release with bug fixes and improvements

===Previous Versions===
**v1.1.0** (January 2026) - Bug fixes release  
**v1.0.0-mop-classic** (January 2026) - MoP Classic compatibility update

===Original Baseline===
**v50507** (24-09-2013) - Last original version before MoP Classic adaptation

Bugs or suggestions for the MoP Classic adaptation can be posted to: https://github.com/RossNicholson/rewatch-classic/issues

Original addon page: https://www.curseforge.com/wow/addons/rewatch

For latest releases, see: https://github.com/RossNicholson/rewatch-classic/releases

===Changelog===

====v1.1.1 (January 2026) - Additional Bug Fixes====
* Fixed tank/healer role icon display consistency
  - Role icons now use consistent Blizzard UI texture with TexCoord for both initial creation and updates
  - Fixed issue where role icons would display incorrectly when roles were assigned
* Fixed Nature's Cure/Remove Corruption button functionality
  - Changed from unit-based spell casting to mouseover macro targeting
  - Now uses [@mouseover,exists,help] macro syntax for better MoP Classic compatibility
  - Falls back to normal casting if not hovering over a player
* Fixed Nature's Cure/Remove Corruption button not lighting up for debuffs
  - Fixed UnitDebuff call to use unit token instead of player name
  - Added index-based iteration to find debuffs by spell name (MoP Classic compatibility)
  - Enhanced debuff detection with spell ID matching when available
  - Added periodic check in OnUpdate loop to scan all players for cleanseable debuffs
  - Button now correctly lights up when player has curse, poison, or magic debuffs (if resto spec)
  - Button dims when debuffs are removed
* Removed outdated testing report (all documented issues resolved)

====v1.1.0 (January 2026) - Bug Fixes Release====
* Fixed InCombatLockdown() checks for MoP Classic compatibility (12 locations)
  - Changed all InCombatLockdown() == 1 to InCombatLockdown() (boolean check)
  - Changed all InCombatLockdown() ~= 1 to not InCombatLockdown()
  - Combat lockdown protection now works correctly in MoP Classic
* Fixed UNIT_THREAT_SITUATION_UPDATE handler
  - Event passes unit token (like "player", "party1") not a GUID
  - Now correctly iterates through player frames to find matching unit tokens
  - Threat colors now display correctly on player frames
* Fixed PLAYER_ROLES_ASSIGNED handler
  - Event fires without parameters in MoP Classic
  - Now correctly iterates through all group/raid members
  - Role icons (tank/healer) now update correctly when roles are assigned
* Added roleIcon storage on PlayerBar for proper role icon updates
* Added unit validation in findUnitBuff function to prevent errors with invalid units

====v1.0.0-mop-classic (January 2026) - MoP Classic Compatibility Update====
* Updated for Mists of Pandaria Classic client version 5.5.3.64857
* Fixed SetBackdrop compatibility (added BackdropTemplate for all frames)
* Updated UI templates (replaced OptionsButtonTemplate with UIPanelButtonTemplate, OptionsCheckButtonTemplate with UICheckButtonTemplate)
* Fixed GetSpecialization compatibility (added fallback to GetPrimaryTalentTree for MoP Classic)
* Fixed CombatLog event handling for MoP Classic API (updated to use CombatLogGetCurrentEventInfo)
* Fixed UnitBuff usage (implemented index-based iteration for MoP Classic compatibility)
* Fixed CooldownFrame_SetTimer compatibility (updated to use SetCooldown method)
* Fixed combat lockdown issues with Hide() calls on status bars
* Added proper InCombatLockdown() checks throughout (boolean check for MoP Classic)
* Improved Lifebloom stack detection and color display (uses count from UnitBuff)
* Enhanced Regrowth Lifebloom refresh detection (triggers on SPELL_HEAL events)
* Force vertical stacking of player frames (NumFramesWide = 1)
* Added /rewatch default command to reset layout settings
* Improved error handling and initialization order

====50507 (24-09-2013) - Original Baseline====
* Coloring player names with class colors, removed class sidebar
* Frame shadow which will color with aggro, moving from the player names color
* Chat messages from Rewatch are now in white, to avoid confusion with raid chat
* Added player role icons to the HP bar
* Predicted heals can now be turned off with an option
* Fixed a bug where the cooldowns were not displayed correctly on the buttons (e.g. Swiftmend would use GCD, while it's on a larger cooldown)
* Added a popup windows on first load ('setup') to give a shortcut to display modes Minimalist and Compact presets
* Changed highlight texture on bars to be more fancy
* Fixed hard-coded cooldown duration values, still a few remained
* Defaults the Alt-click macro to Nature's Cure, so alt-clicking a frame will cleanse that player
* Added shift-click, ctrl-click, alt-click and right-click modifier to the Rejuvenation bar, which will cast Genesis (on ALL party or raidmembers with Rejuvenation ofc!)
* Fixed Genesis' effect on Rejuvenation bars
====50506====
* Fixed a little Lua error bug
* Updated LOC file for new WoW patch
====50505====
* Corrected spam to default chat channel whenever group composition changed
* Frames should no longer autosort when the autosort option is set to 0/off
* Corrected issue where ironbark/barkskin button's cooldown could be triggered by other druids using ironbark/barkskin
* Added highlighting of incoming heals on all rewatch health bars
** There is currently no option to turn this function off, but I intend to include it in some future release
====50504====
* Created failsafe for class color issues
** In the event that the class color fails to be detected, it will be set to black
* Removed frame clear from group change events, so you should stop receiving role spam every time somebody joins/leaves party
====50503====
* Change method for checking players' classes
** Now accounts for issue where WoW API erroneously reports class as nil the first time it is called
** Should be language-independent now
* Added checks for Glyph of Blooming and the addon will now act accordingly when the glyph is present
* Corrected problems which occurred when the bottom buttons were hidden and a dispelable debuff appears on a group member
** Player frames should still become shaded with the appropriate color regardless of if the buttons are shown
====50502====
* Correct issues with player frames becoming non-responsive and duplicating themselves after combat ends
** Corrected checks which prevent Rewatch from attempting to clear or rewrite frames during combat
** Corrected oversight which caused Rewatch to not properly rewrite player frames if in a raid group
====50501b====
* Same as 50501, but updates addon information which was missing in first upload
====50501====
* Correct issue with 50500 where dungeons caused Rewatch frame to duplicate and become unresponsive
====50500====
* Incorporates all changes from the "bobn64" repository (which was created when 5.0 went live) into the mainline project
** Replaced deprecated API calls with new ones introduced with 5.0
** Adjusted the few hardcoded spell parameters (duration, cooldown) to new 5.0 values
** Replaced buttons for spells which no longer exist with new spells
** Changed player frames to be locked to master frame by default
** Corrected issue which made Rewatch (and eventually the entire client) unusable if a monk was in party
** Added spec change monitoring to change spells which only exist in Resto spec to other spells for use when not in Resto spec
** Added cooldown monitor for new debuff removal spells
* Corrected issue where casting certain heals on non-party members created a blank frame which could not be removed without a /reload
* Corrected issue where changing spec while in raid group did not automatically update available spells in Rewatch
* Changed Nature's Cure/Remove Corruption button highlighting so that it now highlights along with the rest of the player's frame when a debuff is active
====50409====
* Lifebloom bar workaround to fix SPELL_AURA_REFRESH bug with WoW 4.2. Mind, though: it's a (pretty damn close) estimate, still!
====50408====
* Update for patch 4.2
====50407====
* Fixed the issue where the back frame kept coming to the foreground
* Fixed the LUA error when rezzing a player with bottom buttons hidden
* Allowed two frame sorting options:
** Sort By Role
** Show Self First
* Changed Health Deficit options to be more suitable for fights like Chimaeron and Nefarian
* Fixed the layout "radio" button behaviour in the options menu
====50406====
* Support for patch 4.1
* Minor bugfix in scaling with vertical layout
====50405====
* Allowed for Default or Vertical layout!
* Added opacity for the HoT bars
* Identifying tank/healers and sorting on that automatically
* Added slider to change HoT bar background opacity
* Fixed a bug where weird things started happening with deficit options
* Finally added proper resizing options (scaling)
* Minor bug fixes
====50404====
* Fixed a German translation for Remove Corruption
* Wild Growth seems to trigger every tick.. Bug in WoW?
* Also added Wild Growth cooldown display by using the WG bar reverted
* Added automatic report on people you innervate
* Created a new options tab to configure macro's for alt, ctrl and shift-click on player frames!
  By default, shift will now be the rezzing modifier and ctrl will be for innervating.
* Fixed power type colouring
* Improved rez reporting so that it only logs when actually rezzing
====50403====
* Fixed the Apply button
* Repositioned some options
* Properly re-apply defaults when hitting Default button
* Allowed changing bar texture through options
====50402====
* Changed version format from "5.4.2" to 50402
* General code patchies
* Updated textures
* Added Thorns button
* Reset some width/height dimensions, will override configs :(
* Fixed highlighting
* Fixed bar textures upon death
* Added tooltips to HoT bars
* Dropped support for updating from before 5.4, will hard reset config
* Decent file structure in Rewatch folder
* Fixed minor bar positioning issue
* Shrunk bottom spare part of main frame to 10 pixels, down from 15
* Abbreviating BG realm names on player frames
* Automatically remove HoTs when expired but not caught (zoned, etc.)
* Allow removing highlighting when expired but not caught (zoned, etc.)
====5.4.1====
* The rightclick actions work, again
* You can now configure font, font size and highlight size through the options window
* Highlighted frame should now properly deselect when changing target
* Lifebloom stack counter is again valid when using Nourish to refresh it
====5.4====
* Sub-version 4 for patch 4!
* Removed Abolish Poison and Remove Curse buttons
* Added Remove Corruption button
* Fonts patched!
* Name highlight on target
====5.3.1====
* Fixed a threat update error
* Fixed an in-combat error
====5.3====
* Stable version, starting version 5.3!
* Fixed WG buff catching
* Updated Nature's Swiftness duration to 180, up from 120
* Now getting HoT duration rather than calculating it so it's more accurate!
* Updated Shapeshift event listening
* Removed some redundant options!
* Changed highlighting colours to be more different
* Minor code efficiency updates
* Added option to hide tooltips

==Full Changelog==
You can see the full original changelog at https://www.curseforge.com/wow/addons/rewatch

For MoP Classic adaptation updates, see: https://github.com/RossNicholson/rewatch-classic/releases

==Planned features==
* None at this time!

==Could have features, maybe, some time==
* Button for Symbiosis?
* Bar highlighting when Clearcasting (Regrowth and Healing Touch)

==Known Issues==
* Several translations into DE, ES and FR are not fully implemented (inherited from baseline)
* MoP Classic specific: Some deprecated API functions may require future updates as the client evolves